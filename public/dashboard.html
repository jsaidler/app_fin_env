<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#005d97" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Caixa Simples" />
  <link rel="manifest" href="/manifest.json" />
  <link rel="apple-touch-icon" href="/assets/img/icons/icon_x192.png" />
  <title>Caixa Simples | Dashboard</title>
  <link rel="stylesheet" href="/assets/vendor/ionic/css/ionic.bundle.css" />
  <link rel="stylesheet" href="/assets/css/tokens.css" />
  <link rel="stylesheet" href="/assets/css/components.css" />
  <link rel="stylesheet" href="/assets/css/dashboard.css" />
</head>
<body>
  <ion-app mode="md">
    <ion-header class="dash-header">
      <ion-toolbar class="dash-topbar">
        <div class="top-shell">
          <div class="appbar-row">
            <p class="appbar-title">Caixa Simples</p>
            <ion-button id="dash-menu-btn" fill="clear" aria-label="Menu">
              <span class="material-symbols-rounded">more_vert</span>
            </ion-button>
          </div>

          <div class="account-row">
            <div class="account-copy">
              <h1 id="dash-user-title" class="account-name">Carregando...</h1>
              <p id="dash-period" class="account-period">--</p>
            </div>
            <div class="topbar-balance">
              <span class="topbar-balance__label">Saldo</span>
              <strong id="dash-balance-head" class="topbar-balance__value">R$ 0,00</strong>
            </div>
          </div>
        </div>
      </ion-toolbar>

      <nav class="dash-nav-wrap" aria-label="Navegação do dashboard">
        <button type="button" class="dash-tab is-active" data-tab="lancamentos" aria-selected="true">
          <span class="material-symbols-rounded dash-tab__icon" aria-hidden="true">list_alt</span>
          <span>Lançamentos</span>
        </button>
        <button type="button" class="dash-tab" data-tab="painel" aria-selected="false">
          <span class="material-symbols-rounded dash-tab__icon" aria-hidden="true">query_stats</span>
          <span>Painel</span>
        </button>
        <button type="button" class="dash-tab" data-tab="categorias" aria-selected="false">
          <span class="material-symbols-rounded dash-tab__icon" aria-hidden="true">sell</span>
          <span>Categorias</span>
        </button>
        <button type="button" class="dash-tab" data-tab="recorrentes" aria-selected="false">
          <span class="material-symbols-rounded dash-tab__icon" aria-hidden="true">autorenew</span>
          <span>Recorrentes</span>
        </button>
      </nav>
    </ion-header>

    <ion-content>
      <main class="dash-shell">
        <section id="sec-lancamentos" class="dash-section dash-section--primary" data-tab-content="lancamentos" aria-label="Lançamentos recentes">
          <header class="section-head">
            <p class="section-kicker">Conta</p>
            <h2 class="section-title-main">Lançamentos</h2>
            <p id="dash-entries-meta" class="entries-meta">--</p>
          </header>
          <div id="entries-list" class="feed-list"></div>
        </section>

        <section id="sec-painel" class="dash-section" data-tab-content="painel" aria-label="Resumo financeiro" hidden>
          <header class="section-head section-head--inline">
            <p class="section-title">Painel</p>
            <p id="kpi-trend-label" class="section-meta">--</p>
          </header>

          <div class="hero">
            <div id="dash-balance-label" class="hero-label">Saldo do mês</div>
            <div id="kpi-balance" class="hero-value">R$ 0,00</div>
            <div id="dash-budget-line" class="hero-meta">R$ 0,00 orçado no mês</div>
            <div class="sparkline">
              <svg id="dash-trend-chart" viewBox="0 0 200 64" preserveAspectRatio="none" aria-hidden="true">
                <polyline id="dash-trend-line" fill="none" stroke-width="3" points="0,52 200,22"></polyline>
              </svg>
            </div>
          </div>
        </section>

        <p id="dash-error" class="dash-feedback dash-feedback--error" hidden role="alert" aria-live="polite"></p>
        <p id="dash-info" class="dash-feedback dash-feedback--ok" hidden role="status" aria-live="polite"></p>

        <section id="sec-revisar" class="dash-section" data-tab-content="painel" aria-label="Itens para revisar" hidden>
          <header class="section-head section-head--inline">
            <p class="section-title">Para revisar</p>
            <button id="review-action" type="button" class="review-action">Marcar tudo como revisado</button>
          </header>
          <div id="review-list" class="feed-list"></div>
        </section>

        <section id="sec-orcamentos" class="dash-section" data-tab-content="categorias" aria-label="Orçamentos" hidden>
          <header class="section-head section-head--inline">
            <p class="section-title">Orçamentos</p>
          </header>
          <div id="cat-grid" class="budget-strip"></div>
        </section>

        <section id="sec-proximos" class="dash-section" data-tab-content="recorrentes" aria-label="Próximos lançamentos" hidden>
          <header class="section-head section-head--inline">
            <p class="section-title">Próximos</p>
          </header>
          <div id="next-list" class="upcoming-list feed-list"></div>
        </section>

      </main>

      <div class="fab-scrim" aria-hidden="true"></div>

      <ion-fab vertical="bottom" horizontal="end" slot="fixed" class="fab-safe">
        <div class="fab-row">
          <ion-fab-button id="open-entry" aria-label="Adicionar entrada">
            <span class="material-symbols-rounded">add</span>
          </ion-fab-button>
          <span class="fab-label">Nova entrada</span>
        </div>
      </ion-fab>
    </ion-content>

    <ion-popover trigger="dash-menu-btn" side="bottom" alignment="end">
      <ion-content class="dash-menu" scroll-y="false">
        <ion-list lines="none">
          <ion-item button id="dash-refresh-menu">
            <ion-label>Atualizar</ion-label>
          </ion-item>
          <ion-item button id="dash-logout-menu">
            <ion-label>Sair</ion-label>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-popover>

    <ion-modal id="entry-modal" class="sheet-modal entry-sheet">
      <ion-header>
        <ion-toolbar>
          <ion-title class="entry-title">Nova entrada</ion-title>
          <ion-buttons slot="end" class="toolbar-actions">
            <ion-button id="close-entry" aria-label="Fechar nova entrada">
              <span class="material-symbols-rounded">close</span>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content id="entry-content" class="ion-padding">
        <div class="entry-type-switch">
          <p class="entry-type-switch__label">Tipo do lançamento</p>
          <ion-segment id="entry-type" value="" mode="md">
            <ion-segment-button value="in">
              <ion-label>Entrada</ion-label>
            </ion-segment-button>
            <ion-segment-button value="out">
              <ion-label>Saída</ion-label>
            </ion-segment-button>
          </ion-segment>
        </div>

        <div class="entry-amount">
          <div class="amount-label">Valor</div>
          <div class="amount-row">
            <span class="amount-currency">R$</span>
            <ion-input
              id="entry-amount"
              class="amount-input"
              type="tel"
              inputmode="decimal"
              placeholder="0,00"
              autocomplete="off"
              autocapitalize="off"
              autocorrect="off"
              spellcheck="false"
              enterkeyhint="done"
            ></ion-input>
          </div>
        </div>

        <div class="entry-fields">
          <section class="entry-stage" aria-label="Dados do lançamento">
            <div class="entry-field-set">
              <button id="open-category" type="button" class="entry-picker-row" aria-expanded="false">
                <span class="entry-picker-row__label">Categoria</span>
                <span id="selected-category" class="entry-picker-row__value is-placeholder">Selecionar categoria</span>
                <span class="material-symbols-rounded">chevron_right</span>
              </button>
            </div>

            <div class="entry-field-set">
              <button id="open-date" type="button" class="entry-picker-row" aria-expanded="false">
                <span class="entry-picker-row__label">Data</span>
                <span id="selected-date" class="entry-picker-row__value is-placeholder">Selecionar data</span>
                <span class="material-symbols-rounded">chevron_right</span>
              </button>
            </div>
          </section>

          <section class="entry-stage entry-stage--description" aria-label="Descrição opcional">
            <p class="entry-stage__title">Descrição (opcional)</p>
            <ion-item class="entry-text-field entry-text-field--no-label">
              <ion-input id="entry-description" type="text" placeholder="Ex.: Compra semanal"></ion-input>
            </ion-item>

            <button id="open-attachment" type="button" class="entry-picker-row entry-picker-row--attachment">
              <span class="entry-picker-row__label">Comprovante / NF</span>
              <span id="attachment-name" class="entry-picker-row__value is-placeholder">Toque para anexar foto ou PDF</span>
              <span class="material-symbols-rounded">chevron_right</span>
            </button>
          </section>
        </div>

        <input id="entry-attachment-file" class="file-input" type="file" accept="image/*,application/pdf" />

        <div id="attachment-preview" class="attachment-preview" hidden>
          <img id="attachment-preview-image" class="attachment-preview__image" alt="Pré-visualização do comprovante" hidden />
          <iframe id="attachment-preview-pdf" class="attachment-preview__pdf" title="Pré-visualização do comprovante em PDF" hidden></iframe>
          <div class="attachment-preview__meta">
            <p id="attachment-preview-name" class="attachment-preview__name"></p>
            <ion-button id="clear-attachment" fill="clear" size="small">Remover</ion-button>
          </div>
        </div>
      </ion-content>

      <ion-footer class="entry-actions">
        <ion-toolbar>
          <div class="modal-actions">
            <ion-button fill="clear" id="cancel-entry">Cancelar</ion-button>
            <ion-button color="primary" id="save-entry" disabled>Salvar</ion-button>
          </div>
        </ion-toolbar>
      </ion-footer>
    </ion-modal>

    <ion-modal id="entry-category-modal" class="sheet-modal entry-picker-sheet">
      <ion-header>
        <ion-toolbar>
          <ion-title class="entry-title">Selecionar categoria</ion-title>
          <ion-buttons slot="end" class="toolbar-actions">
            <ion-button id="close-category-modal" aria-label="Fechar categorias">
              <span class="material-symbols-rounded">close</span>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-searchbar id="category-search" mode="md" placeholder="Buscar categoria"></ion-searchbar>
        <div id="category-list" class="category-list"></div>
      </ion-content>
    </ion-modal>

    <ion-modal id="entry-date-modal" class="sheet-modal entry-picker-sheet">
      <ion-header>
        <ion-toolbar>
          <ion-title class="entry-title">Selecionar data</ion-title>
          <ion-buttons slot="end" class="toolbar-actions">
            <ion-button id="close-date-modal" aria-label="Fechar calendário">
              <span class="material-symbols-rounded">close</span>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-datetime
          id="entry-date-picker"
          presentation="date"
          locale="pt-BR"
          show-default-buttons="false"
        ></ion-datetime>
      </ion-content>
    </ion-modal>

  </ion-app>

  <script type="module" src="/assets/vendor/ionic/dist/ionic/ionic.esm.js"></script>
  <script type="module" src="/assets/js/dashboard.js"></script>
</body>
</html>
