<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Copilot Light Preview</title>
  <link rel="stylesheet" href="assets/vendor/ionic/css/ionic.bundle.css" />
  <style>
    @font-face {
      font-family: "Material Symbols Rounded";
      src: url("assets/vendor/material-symbols/material-symbols-rounded.ttf") format("truetype");
      font-weight: 100 700;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --brand: #005D97;
      --canvas: #F2F5F9;
      --surface: #FFFFFF;
      --text: #0F1720;
      --muted: #657181;
      --stroke: rgba(15, 23, 32, 0.08);
      --pos: #2E8B5A;
      --neg: #C65757;
      --warn: #D28B3C;
      --radius: 16px;
      --shadow-soft: 0 10px 24px rgba(12, 22, 34, 0.08);

      --ion-color-primary: #005D97;
      --ion-color-primary-rgb: 0, 93, 151;
      --ion-color-primary-contrast: #FFFFFF;
      --ion-color-primary-contrast-rgb: 255, 255, 255;
      --ion-color-primary-shade: #005286;
      --ion-color-primary-tint: #1a6ea2;
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: "Avenir Next", "Nunito", "Segoe UI", sans-serif;
      color: var(--text);
      background: var(--canvas);
    }

    ion-app {
      height: 100%;
      background: var(--canvas);
    }

    ion-content {
      --background: var(--canvas);
      --padding-top: 12px;
      --padding-start: 16px;
      --padding-end: 16px;
      --padding-bottom: 96px;
    }

    ion-toolbar {
      --background: var(--surface);
      --color: var(--text);
      --min-height: 52px;
      --border-color: transparent;
    }

    ion-header {
      border-bottom: 1px solid var(--stroke);
    }

    .material-symbols-rounded {
      font-family: "Material Symbols Rounded";
      font-variation-settings: "FILL" 0, "wght" 500, "GRAD" 0, "opsz" 24;
      font-size: 22px;
      line-height: 1;
      display: inline-block;
      vertical-align: middle;
    }

    .topbar-title {
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .toolbar-actions ion-button {
      --background: transparent;
      --color: var(--text);
      --padding-start: 8px;
      --padding-end: 8px;
    }

    .tabs {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      padding: 6px;
      background: rgba(15, 23, 32, 0.05);
      border-radius: 999px;
      margin: 8px 0 16px;
    }

    .tab {
      min-height: 44px;
      border-radius: 999px;
      border: none;
      background: transparent;
      font-size: 13px;
      font-weight: 600;
      color: var(--muted);
      text-align: center;
      padding: 8px 10px;
    }

    .tab.active {
      background: rgba(0, 93, 151, 0.12);
      color: var(--brand);
      box-shadow: 0 6px 14px rgba(16, 24, 40, 0.08);
    }

    .section-title {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
      margin: 18px 0 10px;
    }

    ion-card.hero {
      margin: 0;
      border-radius: var(--radius);
      background: var(--surface);
      box-shadow: var(--shadow-soft);
      padding: 16px;
    }

    .hero-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      font-weight: 600;
    }

    .hero-value {
      font-size: 34px;
      font-weight: 800;
      margin-top: 6px;
    }

    .hero-meta {
      font-size: 13px;
      color: var(--muted);
    }

    .sparkline {
      height: 64px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(0, 93, 151, 0.18), rgba(0, 93, 151, 0.04));
      margin-top: 10px;
      overflow: hidden;
    }

    .sparkline svg {
      width: 100%;
      height: 100%;
    }

    .badge-soft {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(0, 93, 151, 0.12);
      color: var(--brand);
      font-size: 12px;
      font-weight: 600;
      margin-top: 8px;
    }

    .row {
      display: grid;
      grid-template-columns: 32px 1fr auto;
      gap: 12px;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid var(--stroke);
    }

    .row:last-child {
      border-bottom: none;
    }

    .row-title {
      font-size: 15px;
      font-weight: 600;
    }

    .row-meta {
      font-size: 13px;
      color: var(--muted);
      margin-top: 2px;
    }

    .row-value {
      font-size: 15px;
      font-weight: 700;
    }

    .row-value.pos { color: var(--pos); }
    .row-value.neg { color: var(--neg); }

    .icon-circle {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: rgba(0, 93, 151, 0.08);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--brand);
    }

    .review-action {
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }

    .budget-strip {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: 96px;
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 6px;
    }

    .budget-item {
      display: grid;
      gap: 8px;
      justify-items: center;
      color: var(--muted);
      font-size: 12px;
      font-weight: 600;
    }

    .budget-ring {
      width: 86px;
      height: 86px;
      border-radius: 999px;
      background: conic-gradient(var(--brand) 0 250deg, rgba(15, 23, 32, 0.08) 250deg 360deg);
      display: grid;
      place-items: center;
    }

    .budget-ring span {
      width: 52px;
      height: 52px;
      border-radius: 999px;
      background: var(--surface);
      display: grid;
      place-items: center;
      box-shadow: inset 0 0 0 1px var(--stroke);
      color: var(--brand);
    }

    .upcoming-list {
      display: grid;
      gap: 8px;
    }

    .search-min {
      --background: #FFFFFF;
      --box-shadow: none;
      --color: var(--text);
      --placeholder-color: var(--muted);
      --icon-color: var(--muted);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      margin-bottom: 12px;
    }

    .chip-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 32, 0.06);
      color: var(--muted);
      font-size: 12px;
      font-weight: 600;
    }

    .chip.active {
      color: var(--brand);
      background: rgba(0, 93, 151, 0.12);
    }

    .ring-summary {
      display: grid;
      justify-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .ring {
      width: 96px;
      height: 96px;
      border-radius: 999px;
      background: conic-gradient(var(--brand) 0 240deg, rgba(15, 23, 32, 0.08) 240deg 360deg);
      display: grid;
      place-items: center;
    }

    .ring-inner {
      width: 62px;
      height: 62px;
      border-radius: 999px;
      background: var(--surface);
      display: grid;
      place-items: center;
      color: var(--brand);
      font-weight: 700;
      font-size: 13px;
      box-shadow: inset 0 0 0 1px var(--stroke);
    }

    .category-row {
      display: grid;
      gap: 6px;
      padding: 12px 0;
      border-bottom: 1px solid var(--stroke);
    }

    .progress-line {
      height: 4px;
      background: rgba(15, 23, 32, 0.08);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-line span {
      display: block;
      height: 100%;
      background: var(--brand);
    }

    .tab-page {
      display: none;
    }

    .tab-page.active {
      display: block;
    }

    ion-fab-button {
      --background: var(--brand);
      --color: #FFFFFF;
      --box-shadow: var(--shadow-soft);
    }

    .fab-label {
      background: var(--surface);
      color: var(--text);
      padding: 6px 10px;
      border-radius: 999px;
      margin-left: 10px;
      font-size: 12px;
      font-weight: 600;
      border: 1px solid var(--stroke);
    }

    .fab-row {
      display: flex;
      align-items: center;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      margin-top: 16px;
    }

    .ghost-button {
      --background: transparent;
      --color: var(--text);
      --border-color: var(--stroke);
    }

    .preview {
      width: 100%;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      margin-top: 8px;
      display: none;
    }
  </style>
</head>
<body>
  <ion-app>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start" class="toolbar-actions">
          <ion-button aria-label="Settings">
            <span class="material-symbols-rounded">settings</span>
          </ion-button>
        </ion-buttons>
        <ion-title class="topbar-title">Finance</ion-title>
        <ion-buttons slot="end" class="toolbar-actions">
          <ion-button aria-label="Search">
            <span class="material-symbols-rounded">search</span>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <div class="tabs" id="top-tabs">
        <button class="tab" data-tab="transactions">Transactions</button>
        <button class="tab active" data-tab="dashboard">Dashboard</button>
        <button class="tab" data-tab="categories">Categories</button>
        <button class="tab" data-tab="recurring">Recurring</button>
      </div>

      <section class="tab-page" data-tab="transactions">
        <ion-searchbar class="search-min" placeholder="Search"></ion-searchbar>
        <div class="chip-row">
          <span class="chip active">All</span>
          <span class="chip">Review</span>
          <span class="chip">Income</span>
          <span class="chip">Spent</span>
        </div>

        <div class="section-title">Today</div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">shopping_bag</span></div>
          <div>
            <div class="row-title">Mercado Central</div>
            <div class="row-meta">Groceries - Itauba</div>
          </div>
          <div class="row-value neg">- 186,20</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">payments</span></div>
          <div>
            <div class="row-title">Pix Recebido</div>
            <div class="row-meta">Income - Banco Inter</div>
          </div>
          <div class="row-value pos">+ 1.200,00</div>
        </div>

        <div class="section-title">Yesterday</div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">restaurant</span></div>
          <div>
            <div class="row-title">Restaurante Onda</div>
            <div class="row-meta">Dining - Cartao Visa</div>
          </div>
          <div class="row-value neg">- 92,40</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">local_taxi</span></div>
          <div>
            <div class="row-title">Uber</div>
            <div class="row-meta">Transport - Itauba</div>
          </div>
          <div class="row-value neg">- 34,80</div>
        </div>
      </section>

      <section class="tab-page active" data-tab="dashboard">
        <ion-card class="hero">
          <div class="hero-label">Saldo do mes</div>
          <div class="hero-value">R$ 4.820,15</div>
          <div class="hero-meta">R$ 6.700 budgeted this month</div>
          <div class="sparkline">
            <svg viewBox="0 0 200 64" preserveAspectRatio="none">
              <polyline fill="none" stroke="#2E87C2" stroke-width="3" points="0,52 24,34 48,38 72,20 96,26 120,18 144,28 168,14 200,22" />
            </svg>
          </div>
          <div class="badge-soft">Net this month</div>
        </ion-card>

        <div class="section-title">To Review</div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">storefront</span></div>
          <div>
            <div class="row-title">Cafe Mercado</div>
            <div class="row-meta">Food</div>
          </div>
          <div class="row-value neg">- 24,90</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">home</span></div>
          <div>
            <div class="row-title">Movel Casa</div>
            <div class="row-meta">Home</div>
          </div>
          <div class="row-value neg">- 312,00</div>
        </div>
        <div class="review-action">Mark reviewed</div>

        <div class="section-title">Budgets</div>
        <div class="budget-strip">
          <div class="budget-item">
            <div class="budget-ring"><span><span class="material-symbols-rounded">shopping_cart</span></span></div>
            R$ 1.240
          </div>
          <div class="budget-item">
            <div class="budget-ring"><span><span class="material-symbols-rounded">local_taxi</span></span></div>
            R$ 420
          </div>
          <div class="budget-item">
            <div class="budget-ring"><span><span class="material-symbols-rounded">subscriptions</span></span></div>
            R$ 220
          </div>
          <div class="budget-item">
            <div class="budget-ring"><span><span class="material-symbols-rounded">movie</span></span></div>
            R$ 310
          </div>
        </div>

        <div class="section-title">Upcoming</div>
        <div class="upcoming-list">
          <div class="row">
            <div class="icon-circle"><span class="material-symbols-rounded">wifi</span></div>
            <div>
              <div class="row-title">Internet Vivo</div>
              <div class="row-meta">Due in 3 days</div>
            </div>
            <div class="row-value neg">- 119,90</div>
          </div>
          <div class="row">
            <div class="icon-circle"><span class="material-symbols-rounded">music_note</span></div>
            <div>
              <div class="row-title">Spotify</div>
              <div class="row-meta">Monthly - 2 days</div>
            </div>
            <div class="row-value neg">- 21,90</div>
          </div>
          <div class="row">
            <div class="icon-circle"><span class="material-symbols-rounded">fitness_center</span></div>
            <div>
              <div class="row-title">Gym Pulse</div>
              <div class="row-meta">Monthly - 6 days</div>
            </div>
            <div class="row-value neg">- 129,00</div>
          </div>
        </div>
      </section>

      <section class="tab-page" data-tab="categories">
        <div class="ring-summary">
          <div class="ring"><div class="ring-inner">72%</div></div>
          <div class="row-meta">Total do mes</div>
        </div>

        <div class="section-title">Categories</div>
        <div class="category-row">
          <div class="row-title">Groceries</div>
          <div class="row-meta">R$ 1.240</div>
          <div class="progress-line"><span style="width:78%"></span></div>
        </div>
        <div class="category-row">
          <div class="row-title">Transport</div>
          <div class="row-meta">R$ 420</div>
          <div class="progress-line"><span style="width:60%"></span></div>
        </div>
        <div class="category-row">
          <div class="row-title">Entertainment</div>
          <div class="row-meta">R$ 310</div>
          <div class="progress-line"><span style="width:52%"></span></div>
        </div>
      </section>

      <section class="tab-page" data-tab="recurring">
        <div class="section-title">Recurring</div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">wifi</span></div>
          <div>
            <div class="row-title">Internet Vivo</div>
            <div class="row-meta">Monthly - Next on 23 Jul</div>
          </div>
          <div class="row-value neg">- 119,90</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">fitness_center</span></div>
          <div>
            <div class="row-title">Gym Pulse</div>
            <div class="row-meta">Monthly - Next on 26 Jul</div>
          </div>
          <div class="row-value neg">- 129,00</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">directions_car</span></div>
          <div>
            <div class="row-title">Car Insurance</div>
            <div class="row-meta">Annual - Next on 12 Aug</div>
          </div>
          <div class="row-value neg">- 1.200,00</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">palette</span></div>
          <div>
            <div class="row-title">Adobe Creative</div>
            <div class="row-meta">Monthly - Next on 28 Jul</div>
          </div>
          <div class="row-value neg">- 89,00</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">movie</span></div>
          <div>
            <div class="row-title">Prime Video</div>
            <div class="row-meta">Monthly - Next on 29 Jul</div>
          </div>
          <div class="row-value neg">- 14,90</div>
        </div>
        <div class="row">
          <div class="icon-circle"><span class="material-symbols-rounded">cloud</span></div>
          <div>
            <div class="row-title">Cloud Storage</div>
            <div class="row-meta">Monthly - Next on 30 Jul</div>
          </div>
          <div class="row-value neg">- 29,90</div>
        </div>
      </section>

      <ion-fab vertical="bottom" horizontal="start" slot="fixed">
        <div class="fab-row">
          <ion-fab-button id="open-entry" aria-label="Adicionar entrada">
            <span class="material-symbols-rounded">add</span>
          </ion-fab-button>
          <div class="fab-label">Entrada</div>
        </div>
      </ion-fab>
    </ion-content>

    <ion-modal id="entry-modal">
      <ion-header>
        <ion-toolbar>
          <ion-title class="topbar-title">Nova entrada</ion-title>
          <ion-buttons slot="end" class="toolbar-actions">
            <ion-button id="close-entry" aria-label="Fechar">
              <span class="material-symbols-rounded">close</span>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item lines="full">
          <ion-label position="stacked">Valor</ion-label>
          <ion-input type="number" placeholder="0,00"></ion-input>
        </ion-item>
        <ion-item lines="full">
          <ion-label position="stacked">Data</ion-label>
          <ion-datetime presentation="date"></ion-datetime>
        </ion-item>
        <ion-item button id="open-category" lines="full">
          <ion-label>Categoria</ion-label>
          <ion-note slot="end" id="selected-category">Selecionar</ion-note>
        </ion-item>
        <ion-item lines="full">
          <ion-label position="stacked">Anexo</ion-label>
          <input type="file" id="receipt-input" accept="image/*" />
          <img id="receipt-preview" class="preview" alt="Preview" />
        </ion-item>
        <ion-item lines="full">
          <ion-label position="stacked">Observacao</ion-label>
          <ion-textarea auto-grow placeholder="Adicionar observacao"></ion-textarea>
        </ion-item>
        <div class="modal-actions">
          <ion-button class="ghost-button" fill="outline" id="cancel-entry">Cancelar</ion-button>
          <ion-button color="primary">Salvar</ion-button>
        </div>
      </ion-content>
    </ion-modal>

    <ion-modal id="category-modal">
      <ion-header>
        <ion-toolbar>
          <ion-title class="topbar-title">Selecionar categoria</ion-title>
          <ion-buttons slot="end" class="toolbar-actions">
            <ion-button id="close-category" aria-label="Fechar">
              <span class="material-symbols-rounded">close</span>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-searchbar id="category-search" class="search-min" placeholder="Buscar categoria"></ion-searchbar>
        <div id="category-list">
          <div class="row" data-category="Groceries">
            <div class="icon-circle"><span class="material-symbols-rounded">shopping_cart</span></div>
            <div>
              <div class="row-title">Groceries</div>
              <div class="row-meta">Food</div>
            </div>
            <div class="row-value">R$ 1.240</div>
          </div>
          <div class="row" data-category="Transport">
            <div class="icon-circle"><span class="material-symbols-rounded">local_taxi</span></div>
            <div>
              <div class="row-title">Transport</div>
              <div class="row-meta">Mobility</div>
            </div>
            <div class="row-value">R$ 420</div>
          </div>
          <div class="row" data-category="Dining">
            <div class="icon-circle"><span class="material-symbols-rounded">restaurant</span></div>
            <div>
              <div class="row-title">Dining</div>
              <div class="row-meta">Meals</div>
            </div>
            <div class="row-value">R$ 310</div>
          </div>
          <div class="row" data-category="Subscriptions">
            <div class="icon-circle"><span class="material-symbols-rounded">subscriptions</span></div>
            <div>
              <div class="row-title">Subscriptions</div>
              <div class="row-meta">Services</div>
            </div>
            <div class="row-value">R$ 220</div>
          </div>
          <div class="row" data-category="Entertainment">
            <div class="icon-circle"><span class="material-symbols-rounded">movie</span></div>
            <div>
              <div class="row-title">Entertainment</div>
              <div class="row-meta">Leisure</div>
            </div>
            <div class="row-value">R$ 310</div>
          </div>
        </div>
      </ion-content>
    </ion-modal>
  </ion-app>

  <script type="module" src="assets/vendor/ionic/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="assets/vendor/ionic/dist/ionic/ionic.js"></script>
  <script>
    const topTabs = document.getElementById("top-tabs");
    const tabPages = document.querySelectorAll(".tab-page");

    function showTab(tab) {
      document.querySelectorAll(".tab").forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.tab === tab);
      });
      tabPages.forEach((page) => {
        page.classList.toggle("active", page.dataset.tab === tab);
      });
    }

    topTabs.addEventListener("click", (ev) => {
      const btn = ev.target.closest(".tab");
      if (!btn) return;
      showTab(btn.dataset.tab);
    });

    showTab("dashboard");

    const entryModal = document.getElementById("entry-modal");
    const openEntry = document.getElementById("open-entry");
    const closeEntry = document.getElementById("close-entry");
    const cancelEntry = document.getElementById("cancel-entry");

    openEntry.addEventListener("click", () => entryModal.present());
    closeEntry.addEventListener("click", () => entryModal.dismiss());
    cancelEntry.addEventListener("click", () => entryModal.dismiss());

    const categoryModal = document.getElementById("category-modal");
    const openCategory = document.getElementById("open-category");
    const closeCategory = document.getElementById("close-category");
    const categoryList = document.getElementById("category-list");
    const categorySearch = document.getElementById("category-search");
    const selectedCategory = document.getElementById("selected-category");

    openCategory.addEventListener("click", () => categoryModal.present());
    closeCategory.addEventListener("click", () => categoryModal.dismiss());

    categoryList.querySelectorAll(".row").forEach((item) => {
      item.addEventListener("click", () => {
        selectedCategory.textContent = item.dataset.category;
        categoryModal.dismiss();
      });
    });

    categorySearch.addEventListener("ionInput", (ev) => {
      const query = (ev.target.value || "").toLowerCase();
      categoryList.querySelectorAll(".row").forEach((item) => {
        const matches = item.dataset.category.toLowerCase().includes(query);
        item.style.display = matches ? "grid" : "none";
      });
    });

    const receiptInput = document.getElementById("receipt-input");
    const receiptPreview = document.getElementById("receipt-preview");

    receiptInput.addEventListener("change", (ev) => {
      const file = ev.target.files && ev.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        receiptPreview.src = reader.result;
        receiptPreview.style.display = "block";
      };
      reader.readAsDataURL(file);
    });

    const cardCount = document.querySelectorAll("ion-card").length;
    const hasTabBar = document.querySelectorAll("ion-tab-bar").length > 0;
    const contentEl = document.querySelector("ion-content");

    console.log("ui-kit checks", {
      cardCount,
      hasTabBar,
      scrollOk: !!contentEl,
    });
  </script>
</body>
</html>
